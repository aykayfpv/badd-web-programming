(self.webpackChunkpackages_lecture=self.webpackChunkpackages_lecture||[]).push([[5950],{1161:(e,n,s)=>{"use strict";s.d(n,{A:()=>d});const t={htmlSnippetContainer:"htmlSnippetContainer_ma1m",htmlSnippet:"htmlSnippet_M4nq",summary:"summary_FjyZ",headerButton:"headerButton_T1af",trySandbox:"trySandbox_oIiv",execute:"execute_QX0B",codeBlock:"codeBlock_FbZp"};var i=s(8927),r=s(6279),o=s(4041),l=s(5750),c=s(2024),a=s(1085);function d(e){return e.toggleable?(0,a.jsx)(u,{...e}):(0,a.jsx)(h,{...e})}function h(e){return(0,a.jsx)("div",{className:`${t.htmlSnippet} ${t.htmlSnippetContainer}`,children:(0,a.jsx)(m,{...e})})}function u(e){return(0,a.jsxs)("details",{className:t.htmlSnippetContainer,children:[(0,a.jsx)("summary",{className:t.summary,children:e.path}),(0,a.jsx)("div",{className:t.htmlSnippet,children:(0,a.jsx)(m,{...e,title:""})})]})}function m(e){const[n,s]=(0,o.useState)({loading:!0}),[l,d]=(0,o.useState)({loading:!0}),[h,u]=(0,o.useState)({loading:!0}),m="js"===e.type?h:"css"===e.type?l:n;(0,o.useEffect)((()=>{const t=e.tabs?.split(",")??[];n.loading&&("html"===e.type||t.includes("html"))&&p(s,"html",e.path),l.loading&&("css"===e.type||t.includes("css"))&&p(d,"css",e.path),h.loading&&("js"===e.type||t.includes("js"))&&p(u,"js",e.path)}),[n.loading,l.loading,h.loading,e.tabs,e.type,e.path]);const j=e.tabs?.split(",")??[];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.A,{to:`/sandbox?snippet=${encodeURIComponent(e.path)}&tab=${e.type??"html"}`,className:`${t.trySandbox} ${t.headerButton}`,target:"_blank",rel:"noopener noreferrer",children:"In Sandbox \xf6ffnen"}),e.tabs?(0,a.jsxs)(c.J,{className:"html-snippet__tab-view",activeIndex:"html"===e.type?0:"css"===e.type?1:2,children:["html"===e.type||j.includes("html")?(0,a.jsx)(c.K,{header:"HTML",children:(0,a.jsx)(i.A,{className:t.codeBlock,title:e.title??e.path,showLineNumbers:!0,language:"html",children:n.loading?"loading...":n.value})}):void 0,"css"===e.type||j.includes("css")?(0,a.jsx)(c.K,{header:"CSS",children:(0,a.jsx)(i.A,{className:t.codeBlock,title:e.title??e.path,showLineNumbers:!0,language:"css",children:l.loading?"loading...":l.value})}):void 0,"js"===e.type||j.includes("js")?(0,a.jsx)(c.K,{header:"JS",children:(0,a.jsx)(i.A,{className:t.codeBlock,title:e.title??e.path,showLineNumbers:!0,language:"javascript",children:h.loading?"loading...":h.value})}):void 0]}):(0,a.jsx)(i.A,{className:t.codeBlock,title:e.title??e.path,showLineNumbers:!0,language:"javascript",children:m.loading?"loading...":m.value})]})}async function p(e,n,s){e({loading:!1,value:await(0,l.C_)(n,s)})}},5750:(e,n,s)=>{"use strict";s.d(n,{pt:()=>p,PR:()=>j,bi:()=>v,F_:()=>x,z$:()=>w,C_:()=>y,aF:()=>m,po:()=>b,vs:()=>f});var t=s(77),i=s(4041);const r={supply:()=>new Set,incorporate:(e,n)=>(e.add(n),e),finish:e=>e};function*o(e){if(null===e||"object"!=typeof e)return;let n=Object.getPrototypeOf(e);for(;n;)yield n,n=Object.getPrototypeOf(n)}function*l(e,n){for(const s of e)yield n(s)}function c(e){return"object"==typeof e&&null!==e?e.constructor?.name??"":""}function a(e){return function(e,n){const s=n.supply();for(const t of e)n.incorporate(s,t);return n.finish(s)}(l(o(e),c),r)}const d="\nhtml {\n  color: black;\n}\n",h="\nhtml {\n  color: white;\n}\na {\n  color: #9898ff;\n}\n";function u(e){return{loading:!1,value:e}}function m(e,n,s,t){const i=(new DOMParser).parseFromString(e,"text/html");{const e=document.createElement("style");e.textContent="dark"===t?h:d,i.head.appendChild(e)}if(n.length>0){const e=document.createElement("style");e.textContent=n,i.head.appendChild(e)}if(s.length>0){const e=document.createElement("script"),n=function(e){const n=function(e){let n="";for(let s=0;s<1e3&&s<e.length;s+=1)if(""!==e[s]){if('"'===e[s]||"'"===e[s]){const t=e.indexOf(e[s],s+1);if(t>=0){const i=e.substring(s+1,t);i.startsWith("babel ")&&(n=i.substring(6))}}break}return n.split(",").map((e=>e.trim())).filter((e=>e.length>0))}(e);return n.length>0?k(e,n):e}(s);e.textContent=`document.addEventListener("readystatechange", function(){if(document.readyState!=="complete")return;\n${n}\n;})`,i.body.appendChild(e)}return i.documentElement.outerHTML}const p={deserialize:e=>"true"===e,serialize:e=>e?"true":"false"},j={deserialize:e=>{const n=Number.parseInt(e);return Number.isNaN(n)?0:n},serialize:e=>e.toString(10)};function g(e,n){const[s,t]=(0,i.useState)((()=>window.localStorage.getItem(e)??n)),r=(0,i.useCallback)((n=>{t(n),window.localStorage.setItem(e,n)}),[e]);(0,i.useEffect)((()=>{const i=window.localStorage.getItem(e);s!==i&&t(i??n)}));const o=(0,i.useCallback)((i=>{i.key===e&&i.newValue!==s&&t(i.newValue||n)}),[s]);return(0,i.useEffect)((()=>(window.addEventListener("storage",o),()=>window.removeEventListener("storage",o))),[o]),[s,r]}function f(e,n,s){const t=s.serialize(n),[r,o]=g(e,t),l=(0,i.useCallback)((e=>o(s.serialize(e))),[s.serialize,o]);return[s.deserialize(r),l]}function b(e,n,s){const t=function(e,n){const s=e.searchParams.get("snippet");if(null==s||0===s.length)return;return s.endsWith(`.${n}`)?s:`${s}.${n}`}(new URL(window.location.href),n),r=t?`${e}_${t}`:e,[o,l]=(0,i.useState)({loading:!0}),[c,a]=g(r,s);return(0,i.useEffect)((()=>{o.loading?t?y(n,t).then((e=>l(u(e)))):l(u(c)):t||l(u(c))}),[c,n,t,o.loading]),[o,e=>{t||a(e),l(u(e))},()=>{t||a(s),l({loading:!0})}]}function w(e,n,s){return x(k(e,["transform-typescript"]),n,s)}function k(e,n){try{return(0,t.transform)(e,{compact:!1,filename:"script.js",plugins:[...n],sourceType:"script",sourceMaps:"inline"}).code??""}catch(s){return console.error("Unable to transpile code to JavaScript",s),""}}function x(e,n,s){const t=console.debug,i=console.log,r=console.info,a=console.error,d=console.warn;let h=[];try{document.querySelector(`iframe[data-eval-id=${CSS.escape(n)}]`)?.remove();const p=document.createElement("iframe");p.dataset.evalId=n,p.style.display="none",document.body.append(p);const j=p.contentWindow,g=p.contentDocument;let f=!0;if(null===j||null===g)return[];const b=e=>{f?h.push(e):(h=[...h,e],s?.(h))};j.console.debug=console.info=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];b(A("console-debug",n)),t.apply(console,n)},j.console.log=console.info=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];b(A("console-log",n)),i.apply(console,n)},j.console.info=console.info=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];b(A("console-log",n)),r.apply(console,n)},j.console.warn=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];b(A("console-warn",n)),d.apply(console,n)},j.console.error=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];b(A("console-error",n)),a.apply(console,n)},j.addEventListener("error",(e=>{b(z(e.error)),a.call(console,e.error)})),j.addEventListener("unhandledrejection",(e=>{b(z(e.reason)),a.call(console,e.reason)}));const w=j.eval.apply(null,[e]);(u=w)instanceof Promise||function(e,n){for(const s of e)if(n(s))return!0;return!1}(l(o(u),c),(m="Promise",e=>e===m))?w.then((e=>void 0!==e?b(S(e)):void 0),(e=>b(z(e)))):void 0!==w&&b(S(w)),f=!1}catch(p){a.apply(console,[p]),h.push(z(p))}var u,m;return h}async function y(e,n){const t=n.endsWith(`.${e}`)?n:`${n}.${e}`;try{return(await s(9999)(`./${e}/${t}`)).default}catch(i){return""}}function v(e,n){const s=e.console.log,t=e.console.debug,i=e.console.info,r=e.console.warn,o=e.console.error;e.console.log=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];s.apply(e.console,i),n(A("console-log",i))},e.console.info=function(){for(var s=arguments.length,t=new Array(s),r=0;r<s;r++)t[r]=arguments[r];i.apply(e.console,t),n(A("console-log",t))},e.console.debug=function(){for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];t.apply(e.console,i),n(A("console-debug",i))},e.console.warn=function(){for(var s=arguments.length,t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];r.apply(e.console,t),n(A("console-warn",t))},e.console.error=function(){for(var s=arguments.length,t=new Array(s),i=0;i<s;i++)t[i]=arguments[i];o.apply(e.console,t),n(A("console-error",t))}}function M(e){return e instanceof Error?e.stack??e.message:String(e)}function D(e){switch(typeof e){case"undefined":case"boolean":case"number":case"bigint":case"string":return String(e);case"symbol":return"symbol";case"function":return e.toString();case"object":{if(null===e)return"null";const n=new Set,s=(e,s)=>{if(void 0===s)return"undefined";if("function"==typeof s)return s.toString();if(s instanceof Error)return M(s);if("object"==typeof s&&null!==s){if(n.has(s))return"circular";const e=a(s);return e.has("Window")||e.has("Document")||e.has("Promise")?String(s):e.has("Node")?function(e){const n=[];if(e instanceof Element&&e.attributes.length>0){n.push("");const s=e.attributes;for(let e=0;e<s.length;e+=1){const t=s.item(e);n.push(`${t?.nodeName}=${t?.nodeValue}`)}}return`<${e.nodeName}${n.join(" ")} />`}(s):Object.keys(s).length>30?String(s):(n.add(s),s)}return s};return JSON.stringify(e,s,2)}}}function A(e,n){return{type:e,value:n.map((e=>D(e))).join("\t")}}function S(e){return{type:"result",value:D(e)}}function z(e){return{type:"error",value:M(e)}}},7828:(e,n,s)=>{"use strict";s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>m,frontMatter:()=>c,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"web-programming/ui-frameworks/framework-knockout","title":"Abschnitt 2 - Data-Binding (Knockout)","description":"Data-Binding mit Knockout","source":"@site/docs/web-programming/ui-frameworks/knockout.mdx","sourceDirName":"web-programming/ui-frameworks","slug":"/framework/knockout","permalink":"/badd-web-programming/docs/framework/knockout","draft":false,"unlisted":false,"editUrl":"https://github.com/blutorange/badd-web-programming/tree/main/packages/lecture/docs/web-programming/ui-frameworks/knockout.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"framework-knockout","slug":"/framework/knockout","sidebar_position":2,"description":"Data-Binding mit Knockout"},"sidebar":"tutorialSidebar","previous":{"title":"Abschnitt 1 - jQuery","permalink":"/badd-web-programming/docs/framework/jquery"},"next":{"title":"Abschnitt 3 - Komponenten, Typisierung, Reaktivit\xe4t (React, Vue)","permalink":"/badd-web-programming/docs/framework/react"}}');var i=s(1085),r=s(1184),o=s(1161),l=s(6279);const c={id:"framework-knockout",slug:"/framework/knockout",sidebar_position:2,description:"Data-Binding mit Knockout"},a="Abschnitt 2 - Data-Binding (Knockout)",d={},h=[{value:"Probleme jQuery",id:"probleme-jquery",level:2},{value:"Knockout",id:"knockout",level:2},{value:"Ergebnisse",id:"ergebnisse",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"abschnitt-2---data-binding-knockout",children:"Abschnitt 2 - Data-Binding (Knockout)"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://knockoutjs.com/index.html",children:"Knockout"})," ist eine kleine Bibliothek, die\neine Abwandlung von MVC \u2014 ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93viewmodel",children:"MVVM - Model, View, View Model"})," \u2014\nimplementiert."]}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"Bitte nicht von diesen Begriffen abschrecken lassen. Wir werden sehen, wie die\nBibliothek funktioniert. MVMM ist nur eine abstrakte Beschreibung der Architektur."})}),"\n",(0,i.jsx)(n.p,{children:"Denken wir aber erst einmal noch an den letzten Abschnitt zur\xfcck und reflektieren,\nwelche Probleme es mit der nativen DOM-API und jQuery noch geben k\xf6nnte."}),"\n",(0,i.jsx)(n.h2,{id:"probleme-jquery",children:"Probleme jQuery"}),"\n",(0,i.jsx)(n.p,{children:"jQuery hat uns die Arbeit mit dem DOM im Vergleich zur DOM-API vereinfacht. Doch\ndie generelle Funktionsweise, direkt im DOM \xc4nderungen vorzunehmen, blieb die gleiche."}),"\n",(0,i.jsx)(n.p,{children:"Wer einmal versucht hat, die TODO-App mit der DOM-API oder jQuery selber umzusetzen,\nder wird (wahrscheinlich) festgestellt haben, dass dies keine angenehme Erfahrung\nwar. Wir brauchen nur einmal die falsche Klasse im JavaScript nehmen oder\nvergessen, eine Eigenschaft im DOM zu aktualisieren, und schon haben wir unseren\nersten Bug."}),"\n",(0,i.jsx)(n.p,{children:"Konkret bei der TODO-App hatten wir einen Z\xe4hler, der die Anzahl der erledigten\nTODOs z\xe4hlt. Immer, wenn sich die Anzahl der TODOs \xe4ndert (neues TODO, TODO\ngel\xf6scht, alle gel\xf6scht) oder ein TODO erledigt wird, mustten wir manuell\ndaran denken, den Z\xe4hler neu zu berechnen und zu aktualisieren."}),"\n",(0,i.jsx)(n.p,{children:"Ein anderes Beispiel ist die Filterung. Bei jeder \xc4nderung der TODOs mussten wir\ndie Filterung manuell erneut durchf\xfchren und den DOM entsprechend aktualisieren."}),"\n",(0,i.jsx)(n.p,{children:"Das ist ein Problem der bisherigen Vorgehensweise: das direkte Arbeiten\nauf dem DOM ist fehleranf\xe4llig und schwierig.  Der DOM ist f\xfcr den Browser\ngedacht, ist aber kein gutes Modell f\xfcr die Logik unserer TODO-Anwendung."}),"\n",(0,i.jsx)(n.p,{children:"Das Modell f\xfcr unsere TODO-Anwendung ist eine Liste von TODOs, die einen Text\nund einen Status (offen, abgeschlossen) haben. Wir hatten aber den DOM als Modell\nverwendet. Falls wir also wissen wollten, welche TODOs schon abgeschlossen waren,\nmussten wir die entsprechenden Elemente selektieren und pr\xfcfen, ob die Checkbox\nangehakt war."}),"\n",(0,i.jsx)(n.p,{children:"Das stellt auch deshalb noch ein Problem dar, weil wir uns so sehr abh\xe4ngig von\nder konkreten HTML-Struktur machen. Sollten wir uns sp\xe4ter entschlie\xdfen, dass\nHTML zu \xe4ndern (andere Elemente, andere Anordnung, andere CSS-Klassen etc.),\nist das potentiell mit viel Aufwand verbunden. Wir m\xfcssen durch das gesamte JavaScript\ngehen, Selektoren \xe4ndern und Logik anpassen."}),"\n",(0,i.jsx)(n.p,{children:"Diese Probleme machen sich schon bei der TODO-App bemerkbar. In gr\xf6\xdferen Webapps\nsind diese Probleme noch um ein Vielfaches gr\xf6\xdfer."}),"\n",(0,i.jsx)(n.p,{children:"Bevor wir uns Knockout im Vergleich zu jQuery anschauen und ob es eine L\xf6sung\nf\xfcr diese Probleme hat, wollen wir uns mit der grundlegenden Funktionsweise von\nKnockout vertraut machen."}),"\n",(0,i.jsx)(n.h2,{id:"knockout",children:"Knockout"}),"\n",(0,i.jsxs)(n.p,{children:["Hier ist ein einfaches Beispiel f\xfcr Knockout, basierend auf einem\n",(0,i.jsx)(n.a,{href:"https://learn.knockoutjs.com/#/?tutorial=custombindings",children:"Tutorial von Knockout"}),":"]}),"\n",(0,i.jsx)(o.A,{path:"knockout-simple",type:"html",tabs:"html,js"}),"\n",(0,i.jsx)(n.p,{children:"Das mag auf den ersten Blick viel erscheinen. Konzentrieren wir uns erst einmal\ndarauf, wie die Antwortm\xf6glichkeiten im HTML erzeugt werden."}),"\n",(0,i.jsxs)(n.p,{children:["Im HTML finden wir vertraute HTML-Elemente wieder. Die ",(0,i.jsx)(n.code,{children:"data-bind"}),"-Attribute\nignorieren wir erst einmal. Dieses HTML ist das, was der Nutzer sieht, und stellt\ndie ",(0,i.jsx)(n.code,{children:"View"})," aus ",(0,i.jsx)(n.code,{children:"Model, View, View Model"})," dar."]}),"\n",(0,i.jsxs)(n.p,{children:["Im JavaScript finden wir die ",(0,i.jsx)(n.code,{children:"class SurveyViewModel {}"}),". Diese enth\xe4lt die Eigenschaften\nund Methoden, die wir f\xfcr die HTML-View brauchen. ",(0,i.jsx)(n.code,{children:"SurveyViewModel"})," ist unser\n",(0,i.jsx)(n.code,{children:"View Model"})," aus ",(0,i.jsx)(n.code,{children:"Model, View, View Model"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.code,{children:"SurveyViewModel"})," finden wir nun die Eigenschaft ",(0,i.jsx)(n.code,{children:"answers"}),", eine Array mit\nden Antwortm\xf6glichkeiten. Auf HTML-Seite wird nun auf die Antwortm\xf6glichkeiten\nzugegrifen:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<tbody data-bind="foreach: answers">\n  <tr>\n    <td data-bind="text: answerText"></td>\n    <td><select data-bind="options: [1,2,3,4,5], value: points"></select></td>\n  </tr>    \n</tbody>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Das spezielle Attribut ",(0,i.jsx)(n.code,{children:'data-bind="foreach: answers"'})," sagen wir Knockout, dass es\nbitte f\xfcr jede Antwortm\xf6glichkeit ein ",(0,i.jsx)(n.code,{children:"<tr>"})," erzeugen soll. In anderen Worten,\naus dem HTML ist nun ein ",(0,i.jsx)(n.strong,{children:"HTML-Template"})," geworden."]}),"\n",(0,i.jsxs)(n.p,{children:["Template bedeutet hier, dass es nur als Vorlage gilt und noch ver\xe4ndert wird,\nbevor es dem Nutzer angezeigt wird. Auf diese Weise brauchen wir nicht mit\nder DOM API via ",(0,i.jsx)(n.code,{children:'document.createElement("tr")'})," im JavaScript umst\xe4ndlich neue\nElemente erzeugen."]}),"\n",(0,i.jsx)(n.p,{children:"Schauen wir nochmal in die Antwortm\xf6glichkeiten im HTML. Dort finden wir noch folgende Zeile:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<td data-bind="text: answerText"></td>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Mit diesem ",(0,i.jsx)(n.code,{children:"data-bind"}),"-Attribut sagen wir Knockout, dass es bitte die Eigenschaft\n",(0,i.jsx)(n.code,{children:"answerText"})," von der ",(0,i.jsx)(n.code,{children:"class Answer {}"})," als Textinhalt des ",(0,i.jsx)(n.code,{children:"<td>"}),"-Elements\nnehmen soll. Anders ausgedr\xfcckt, haben wir den Wert aus unserem ",(0,i.jsx)(n.code,{children:"View Model"}),"\nan eine Eigenschaft des HTML-Elements ",(0,i.jsx)(n.em,{children:"gebunden"}),". Das nennt man daher auch\n",(0,i.jsx)(n.code,{children:"Data Binding"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Die folgende Zeile ist \xe4hnlich:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<td><select data-bind="options: [1,2,3,4,5], value: points"></select></td>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Hier sagen wir Knockout, dass es die Eigenschaft ",(0,i.jsx)(n.code,{children:"points"})," von der ",(0,i.jsx)(n.code,{children:"class Answer {}"}),"\nals Wert des ",(0,i.jsx)(n.code,{children:"<select>"}),"-Element nehmen soll."]}),"\n",(0,i.jsxs)(n.p,{children:["Damit aber nicht genug: im JavaScript haben wir die Eigenschaft ",(0,i.jsx)(n.code,{children:"points"})," wie folgt\ndefiniert:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"this.points = ko.observable(1);\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"ko.observable"})," ist eine spezielle Funktion von Knockout, die den eigentlichen\nWert (eine Zahl) kappselt. Wenn wir nun, wie oben im HTML, diesen gekappselten\nWert an ",(0,i.jsx)(n.code,{children:"value: points"})," ",(0,i.jsx)(n.em,{children:"binden"}),", haben wir ein ",(0,i.jsx)(n.code,{children:"2-Way Data Binding"})," geschaffen."]}),"\n",(0,i.jsx)(n.p,{children:"Das bedeutet:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Wenn sich der Wert im HTML \xe4ndert, wird automatisch auch der Wert im View Model ge\xe4ndert."}),"\n",(0,i.jsx)(n.li,{children:"Wenn sich der Wert in View Model \xe4ndert, wird automatisch auch der Wert im HTML ge\xe4ndert."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Damit k\xfcmmert sich Knockout darum, dass der Wert in der ",(0,i.jsx)(n.code,{children:"Answer"}),"-Klasse immer\ndem Wert im HTML entspricht; und umgekehrt. Wir m\xfcssen uns also nicht mehr selber\ndarum k\xfcmmern, was eine Quelle von Fehler vermeidet. Sobald wir im JavaScript\nden Wert von ",(0,i.jsx)(n.code,{children:"Answer.points"})," \xe4ndern, wird automatisch das HTML aktualisiert."]}),"\n",(0,i.jsx)(n.p,{children:"Und um dem ganzen noch eine Sahneh\xe4ubchen aufzusetzen, schauen wir einmal unten\nin die Berechnung der Punkte. Im HTML finden wir:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<p>Sie k\xf6nnen noch <strong data-bind="text: pointsBudget - pointsUsed()"></strong> Punkte vergeben.</p>\n'})}),"\n",(0,i.jsx)(n.p,{children:"Die bereits vergebenen Punkte werden also von Budget abgezogen und als Text angezeigt.\nIm JavaScript werden die vergebenen wie folgt berechnet:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"this.pointsUsed = ko.computed(() =>\n  this.answers.reduce((sum, answer) => sum + answer.points(), 0),\n);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Wir brauchen nur \xfcber das ",(0,i.jsx)(n.code,{children:"answers"}),"-Array mit den Antworten iterieren und die\nPunkte zusammenzuz\xe4hlen. Mit ",(0,i.jsx)(n.code,{children:"ko.compute"})," sagen wir Knockout, dass der Wert bei\nallen \xc4nderungen neu berechnet werden soll. \xc4ndert sich der Wert (also die Summe\nder vergebenen Punkte), aktualisiert Knockout f\xfcr uns automatisch das HTML."]}),"\n",(0,i.jsx)(n.p,{children:"W\xe4hrend das nur ein einfaches Beispiel war: stellen wir uns vor, wir h\xe4tten\neine gr\xf6\xdfere Webapp. Mit der DOM API oder JQuery m\xfcssten wir dann manuell\nalle HTML-Elemente selektieren und entsprechend aktualisieren. Ist das nicht\nfehleranf\xe4llig?"}),"\n",(0,i.jsx)(n.p,{children:"Als \xdcbung empfehle ich, in dem Beispiel einen Button einzubauen, der beim Klicken\ndie Punkte aller Antwortm\xf6glichkeiten um 1 hochz\xe4hlt. Dabei wird man feststellen:\nNur durch \xc4nderung im View Model werden automatisch alle abh\xe4ngigen Werte im\nHTML aktualisiert."}),"\n",(0,i.jsx)(n.h2,{id:"ergebnisse",children:"Ergebnisse"}),"\n",(0,i.jsx)(n.p,{children:"Nachdem wir uns nun mit der Architektur und Vorgehensweise von Knockout vertraut\ngemacht haben \u2014 l\xf6st es die Probleme, die beim direkten Arbeiten mit dem\nDOM auftreten?"}),"\n",(0,i.jsx)(n.p,{children:"Bevor wir diese Frage beantworten, hier unsere TODO-App, umgesetzt mit Knockout:"}),"\n",(0,i.jsx)("p",{children:(0,i.jsx)(l.A,{to:"/sandbox?snippet=todo-app-knockout&tab=js",target:"_blank",rel:"noopener noreferrer",children:"Playground \u2014 TODO-App (Knockout)"})}),"\n",(0,i.jsx)(n.p,{children:"Die L\xe4nge des Codes ist etwa gleich \u2014 doch die L\xe4nge von Code alleine ist\nnoch nicht das Ende der Weisheit. Wichtig sind auch:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"die Verst\xe4ndlichkeit des Codes"}),"\n",(0,i.jsx)(n.li,{children:"die Wartbarkeit des Codes"}),"\n",(0,i.jsx)(n.li,{children:"die Qualit\xe4t des Codes (wie fehleranf\xe4llig er ist)"}),"\n",(0,i.jsx)(n.li,{children:"die Zeit zum Schreiben des Codes"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:'Das mag zu einem gewissen Grad subjektiv sein, aus meiner Sicht schneidet die\nTODO-App mit Knockout aber in allen Punkten besser ab. Im Durchschnitt sind alle\nZeilen bei der jQuery-Version l\xe4nger und schwerer verst\xe4ndlich, da wir immer\ndas HTML im Hinterkopf behalten m\xfcssen, um die ganzen Selektoren zu verstehen.\nAuch die Fehleranf\xe4lligkeit ist h\xf6her, es ist nie einfach zu erkennen, ob wir\nnicht vergessen haben, eine HTML-Element im DOM zu aktualisieren. Und schlie\xdflich\nwar auch das Schreiben des Codes wesentlich angenehmer und schneller. Zudem haben\nbeim Schreiben des Codes viele Teile "einfach funktioniert", w\xe4hrend das bei\njQuery und der nativen DOM-API nicht der Fall war.'}),"\n",(0,i.jsx)(n.p,{children:"Im obigen Teil, als wir uns Knockout angeschaut haben, sahen wir schon, wie\nes die Probleme der direkten DOM-Manipualtion l\xf6st. Um es nochmal zusammenzufassen,\nsind die wesentlichen Punkte:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Nutzung eines Template-Mechanismus (View)"}),"\n",(0,i.jsx)(n.li,{children:"Vom DOM separates View Model, zugeschnitten auf die Business-Logik (TODO-App)"}),"\n",(0,i.jsx)(n.li,{children:"2-Way-Data-Binding zwischen View und View Model."}),"\n",(0,i.jsx)(n.li,{children:"Observable-Mechanismus, um Werte zu Beschreibung, die von anderen abh\xe4ngig sind."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Diese Herangehensweise verleiht der UI-Programmierung mehr Struktur, wodurch\ndie Fehleranf\xe4lligkeit im Vergleich zum unstrukturierten direkt DOM-Zugriff\nreduziert wird."})]})}function m(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},9999:(e,n,s)=>{var t={"./css/aside.css":[822,822],"./css/box-model.css":[5205,5205],"./css/box-sizing.css":[7758,7758],"./css/css-before-after.css":[6190,6190],"./css/css-blocks.css":[6940,6940],"./css/css-conflict.css":[8232,8232],"./css/css-container-query.css":[5714,5714],"./css/css-custom-properties.css":[8445,8445],"./css/css-display-flex.css":[9676,9676],"./css/css-display-grid-page.css":[5421,5421],"./css/css-display-grid.css":[1473,1473],"./css/css-display-none-select.css":[3786,3786],"./css/css-display-various.css":[6778,6778],"./css/css-font-face-icons.css":[582,582],"./css/css-import.css":[6393,6393],"./css/css-inheritance-override.css":[4019,4019],"./css/css-inheritance.css":[5156,5156],"./css/css-inline.css":[2889,2889],"./css/css-layer.css":[5719,5719],"./css/css-nth-child.css":[9099,1480],"./css/css-overflow.css":[6864,6864],"./css/css-position-absolute-popover.css":[3705,3705],"./css/css-position-fixed-dialog.css":[5753,5753],"./css/css-position-sticky.css":[7699,7699],"./css/css-properties-basic.css":[8716,8716],"./css/css-pseudo-class-hover.css":[1274,1274],"./css/css-pseudo-elements.css":[6872,6872],"./css/css-scope.css":[5240,5240],"./css/css-sizes.css":[566,566],"./css/css-stacking-context-issue.css":[3486,3486],"./css/css-transform.css":[180,180],"./css/css-transition.css":[5959,5959],"./css/css-transparency.css":[4668,4668],"./css/css-z-index.css":[1269,1269],"./css/div-span.css":[2130,2130],"./css/figure.css":[7276,7276],"./css/form-textarea.css":[5619,5619],"./css/fullscreen.css":[559,559],"./css/header-main-footer.css":[1737,1737],"./css/jquery-animate-css.css":[1466,1466],"./css/knockout-simple.css":[4537,4537],"./css/native-dialog.css":[5308,5308],"./css/nav.css":[93,93],"./css/node-hierarchy.css":[5722,5722],"./css/picture.css":[8476,8476],"./css/popover.css":[565,565],"./css/section-hx.css":[5258,5258],"./css/stop-propagation.css":[5049,5049],"./css/table.css":[38,38],"./css/text-content-vs-inner-html.css":[7962,7962],"./css/text-markers.css":[1191,1191],"./css/todo-app-jquery.css":[835,835],"./css/todo-app-knockout.css":[8605,8605],"./css/todo-app-native.css":[7576,7576],"./css/todo-app-react.css":[9792,9792],"./css/todo-app-template.css":[7755,7755],"./css/url-encoding.css":[1291,1291],"./css/video-audio.css":[6577,8958],"./css/worker.css":[7334,7334],"./html/a.html":[4549,4549],"./html/aside.html":[3446,3446],"./html/basic.html":[4792,4792],"./html/box-model.html":[1471,1471],"./html/box-sizing.html":[6622,6622],"./html/cors.html":[5229,5229],"./html/css-before-after.html":[9262,9262],"./html/css-blocks.html":[8236,8236],"./html/css-conflict.html":[3992,3992],"./html/css-container-query.html":[9794,9794],"./html/css-custom-properties.html":[4679,4679],"./html/css-display-flex.html":[2108,2108],"./html/css-display-grid-page.html":[2583,2583],"./html/css-display-grid.html":[1163,1163],"./html/css-display-none-select.html":[5898,5898],"./html/css-display-various.html":[5706,5706],"./html/css-font-face-icons.html":[518,518],"./html/css-import.html":[6323,6323],"./html/css-inheritance-override.html":[7874,5493],"./html/css-inheritance.html":[8052,8052],"./html/css-inline.html":[2323,2323],"./html/css-layer.html":[3673,3673],"./html/css-nth-child.html":[1757,1757],"./html/css-overflow.html":[9952,9952],"./html/css-position-absolute-popover.html":[6883,6883],"./html/css-position-fixed-dialog.html":[4147,4147],"./html/css-position-sticky.html":[7237,7237],"./html/css-properties-basic.html":[252,252],"./html/css-pseudo-class-hover.html":[7690,7690],"./html/css-pseudo-elements.html":[2920,2920],"./html/css-scope.html":[4600,4600],"./html/css-sizes.html":[7974,7974],"./html/css-stacking-context-issue.html":[5278,5278],"./html/css-transform.html":[9636,9636],"./html/css-transition.html":[3033,3033],"./html/css-transparency.html":[4428,4428],"./html/css-z-index.html":[6991,6991],"./html/details-summary.html":[9657,9657],"./html/div-span.html":[2498,2498],"./html/element-properties.html":[386,386],"./html/elements-by-count.html":[8545,8545],"./html/event-listener.html":[8303,8303],"./html/fetch-response.html":[5952,5952],"./html/figure.html":[2492,2492],"./html/form-buttons.html":[3142,3142],"./html/form-fieldset.html":[751,751],"./html/form-input-checkbox.html":[6153,6153],"./html/form-input-file.html":[9314,9314],"./html/form-input-hidden.html":[8572,8572],"./html/form-input-password.html":[9025,9025],"./html/form-input.html":[7111,7111],"./html/form-label.html":[7805,7805],"./html/form-prevent-submit.html":[8326,5945],"./html/form-select-checkbox-radio.html":[9387,9387],"./html/form-select.html":[5243,5243],"./html/form-simple.html":[3653,3653],"./html/form-textarea.html":[8341,8341],"./html/fullscreen.html":[753,753],"./html/h1-span.html":[8452,8452],"./html/header-main-footer.html":[9507,9507],"./html/html-escape.html":[6545,6545],"./html/html-multi-lang.html":[742,742],"./html/img-srcset.html":[8776,8776],"./html/img.html":[4349,4349],"./html/jquery-ajax.html":[9313,9313],"./html/jquery-animate-css.html":[2954,2954],"./html/jquery-animate.html":[7884,7884],"./html/jquery-create.html":[8731,8731],"./html/jquery-events.html":[8790,8790],"./html/jquery-helpers.html":[8422,8422],"./html/jquery-plugin.html":[1680,1680],"./html/jquery-select.html":[7060,7060],"./html/knockout-simple.html":[8515,896],"./html/lists.html":[9563,9563],"./html/native-dialog.html":[7692,7692],"./html/nav.html":[8167,8167],"./html/node-hierarchy.html":[7034,4653],"./html/password-toggle.html":[9698,9698],"./html/picture.html":[2556,2556],"./html/popover.html":[3132,3132],"./html/section-hx.html":[6298,6298],"./html/stop-propagation.html":[4291,4291],"./html/table.html":[2086,2086],"./html/tag-omission.html":[5134,5134],"./html/text-content-vs-inner-html.html":[9546,9546],"./html/text-markers.html":[2633,2633],"./html/todo-app-jquery.html":[5093,5093],"./html/todo-app-knockout.html":[9975,9975],"./html/todo-app-native.html":[9208,9208],"./html/todo-app-react.html":[2032,2032],"./html/todo-app-template.html":[7757,7757],"./html/url-encoding.html":[1709,1709],"./html/video-audio.html":[9006,9006],"./html/whitespace.html":[817,817],"./html/worker.html":[198,198],"./js/array-index-access":[7105,7105],"./js/array-index-access.js":[7105,7105],"./js/async-fn-basic":[5772,5772],"./js/async-fn-basic.js":[5772,5772],"./js/auto-semicolon-insertion":[299,299],"./js/auto-semicolon-insertion.js":[299,299],"./js/box-sizing":[946,946],"./js/box-sizing.js":[946,946],"./js/classes-basic":[7409,7409],"./js/classes-basic.js":[7409,7409],"./js/classes-this-context":[85,85],"./js/classes-this-context.js":[85,85],"./js/control-for-each":[2943,2943],"./js/control-for-each.js":[2943,2943],"./js/control-for-manual":[6808,6808],"./js/control-for-manual.js":[6808,6808],"./js/control-if":[4963,4963],"./js/control-if.js":[4963,4963],"./js/control-switch":[8932,8932],"./js/control-switch.js":[8932,8932],"./js/control-try-catch":[5645,5645],"./js/control-try-catch.js":[5645,5645],"./js/control-try-finally":[889,889],"./js/control-try-finally.js":[889,889],"./js/cors":[1921,1921],"./js/cors.js":[1921,1921],"./js/css-container-query":[8206,8206],"./js/css-container-query.js":[8206,8206],"./js/css-display-none-select":[358,358],"./js/css-display-none-select.js":[358,358],"./js/css-position-fixed-dialog":[8963,8963],"./js/css-position-fixed-dialog.js":[8963,8963],"./js/css-z-index":[3544,3544],"./js/css-z-index.js":[3544,3544],"./js/date-now":[3837,3837],"./js/date-now.js":[3837,3837],"./js/destruct-array":[9166,9166],"./js/destruct-array.js":[9166,9166],"./js/destruct-object":[3668,3668],"./js/destruct-object.js":[3668,3668],"./js/double-equal":[9740,9740],"./js/double-equal.js":[9740,9740],"./js/elements-by-count":[8617,8617],"./js/elements-by-count.js":[8617,8617],"./js/event-loop-order":[1448,1448],"./js/event-loop-order.js":[1448,1448],"./js/factorial-functional":[7503,7503],"./js/factorial-functional.js":[7503,7503],"./js/factorial-imperative":[4780,4780],"./js/factorial-imperative.js":[4780,4780],"./js/factorial-object":[9353,9353],"./js/factorial-object.js":[9353,9353],"./js/fetch-post":[2113,2113],"./js/fetch-post.js":[2113,2113],"./js/fetch-response":[6528,6528],"./js/fetch-response.js":[6528,6528],"./js/fetch-simple":[7889,7889],"./js/fetch-simple.js":[7889,7889],"./js/form-buttons":[6342,6342],"./js/form-buttons.js":[6342,6342],"./js/fullscreen":[1881,1881],"./js/fullscreen.js":[1881,1881],"./js/function-arrow":[6200,6200],"./js/function-arrow.js":[6200,6200],"./js/function-statement":[7916,7916],"./js/function-statement.js":[7916,7916],"./js/function-this":[6833,6833],"./js/function-this.js":[6833,6833],"./js/generator-fn-basic":[1692,9311],"./js/generator-fn-basic.js":[1692,9311],"./js/generator-fn-infinite":[4881,4881],"./js/generator-fn-infinite.js":[4881,4881],"./js/iterator":[9126,9126],"./js/iterator.js":[9126,9126],"./js/jquery-ajax":[8765,8765],"./js/jquery-ajax.js":[8765,8765],"./js/jquery-animate":[8292,8292],"./js/jquery-animate-css":[4390,4390],"./js/jquery-animate-css.js":[4390,4390],"./js/jquery-animate.js":[8292,8292],"./js/jquery-create":[395,395],"./js/jquery-create.js":[395,395],"./js/jquery-events":[7594,7594],"./js/jquery-events.js":[7594,7594],"./js/jquery-helpers":[9818,9818],"./js/jquery-helpers.js":[9818,9818],"./js/jquery-plugin":[7392,7392],"./js/jquery-plugin.js":[7392,7392],"./js/jquery-select":[8719,8719],"./js/jquery-select.js":[8719,8719],"./js/json-parse":[7292,7292],"./js/json-parse.js":[7292,7292],"./js/json-stringify":[658,658],"./js/json-stringify.js":[658,658],"./js/knockout-simple":[4775,4775],"./js/knockout-simple.js":[4775,4775],"./js/map":[3564,3564],"./js/map.js":[3564,3564],"./js/method-chain":[6557,6557],"./js/method-chain.js":[6557,6557],"./js/native-dialog":[972,972],"./js/native-dialog.js":[972,972],"./js/node-hierarchy":[2818,2818],"./js/node-hierarchy.js":[2818,2818],"./js/null-error":[474,474],"./js/null-error.js":[474,474],"./js/nullish-coalescing":[6526,6526],"./js/nullish-coalescing.js":[6526,6526],"./js/object-property-special-chars":[3755,3755],"./js/object-property-special-chars.js":[3755,3755],"./js/optional-chaining":[2638,2638],"./js/optional-chaining-fn":[6251,6251],"./js/optional-chaining-fn.js":[6251,6251],"./js/optional-chaining.js":[2638,2638],"./js/password-toggle":[5906,5906],"./js/password-toggle.js":[5906,5906],"./js/promise-chain":[1015,1015],"./js/promise-chain-async-await":[8041,8041],"./js/promise-chain-async-await.js":[8041,8041],"./js/promise-chain.js":[1015,1015],"./js/promise-timeout":[2881,2881],"./js/promise-timeout.js":[2881,2881],"./js/regexp-capture-group":[2636,2636],"./js/regexp-capture-group-named":[5520,5520],"./js/regexp-capture-group-named.js":[5520,5520],"./js/regexp-capture-group.js":[2636,2636],"./js/regexp-test":[6038,6038],"./js/regexp-test.js":[6038,6038],"./js/set":[6094,6094],"./js/set.js":[6094,6094],"./js/simple-statement":[2270,2270],"./js/simple-statement.js":[2270,2270],"./js/spread-array":[1027,1027],"./js/spread-array.js":[1027,1027],"./js/spread-object":[275,275],"./js/spread-object.js":[275,275],"./js/stop-propagation":[739,739],"./js/stop-propagation.js":[739,739],"./js/text-content-vs-inner-html":[7202,7202],"./js/text-content-vs-inner-html.js":[7202,7202],"./js/this-context-set":[896,8515],"./js/this-context-set.js":[896,8515],"./js/todo-app-jquery":[7181,7181],"./js/todo-app-jquery.js":[7181,7181],"./js/todo-app-knockout":[9199,9199],"./js/todo-app-knockout.js":[9199,9199],"./js/todo-app-native":[1752,1752],"./js/todo-app-native.js":[1752,1752],"./js/todo-app-react":[1676,1676],"./js/todo-app-react.js":[1676,1676],"./js/triple-equal":[2689,2689],"./js/triple-equal.js":[2689,2689],"./js/ts-with-doc-comment-types":[6117,6117],"./js/ts-with-doc-comment-types.js":[6117,6117],"./js/typeof":[9213,9213],"./js/typeof.js":[9213,9213],"./js/undefined-not-function":[1480,9099],"./js/undefined-not-function.js":[1480,9099],"./js/url":[8431,8431],"./js/url-encoding":[3921,3921],"./js/url-encoding.js":[3921,3921],"./js/url.js":[8431,8431],"./js/var-scope":[4178,4178],"./js/var-scope.js":[4178,4178],"./js/worker":[2630,2630],"./js/worker.js":[2630,2630],"./ts/append-to-list":[7277,7277],"./ts/append-to-list.ts":[7277,7277],"./ts/string-constant-union":[2284,2284],"./ts/string-constant-union.ts":[2284,2284],"./ts/union-type":[8990,8990],"./ts/union-type.ts":[8990,8990],"./ts/unsound-opt-prop":[708,708],"./ts/unsound-opt-prop.ts":[708,708]};function i(e){if(!s.o(t,e))return Promise.resolve().then((()=>{var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=t[e],i=n[0];return s.e(n[1]).then((()=>s(i)))}i.keys=()=>Object.keys(t),i.id=9999,e.exports=i}}]);