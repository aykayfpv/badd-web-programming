"use strict";(self.webpackChunkpackages_lecture=self.webpackChunkpackages_lecture||[]).push([[8884],{68884:(e,n,t)=>{t.r(n),t.d(n,{default:()=>o});const o='"svelte";\n\n// ================\n// file: TodoApp.js\n// ================\nimport TodoHeader from "@sandbox/TodoHeader.js";\nimport TodoMain from "@sandbox/TodoMain.js";\nimport TodoFooter from "@sandbox/TodoFooter.js";\n\nlet items = $state(loadTodoItems());\nlet filter = $state("all");\n\nconst activeCount = $derived(items.filter((item) => !item.completed).length);\n\n$effect(() => storeTodoItems(items));\n\nfunction handleClearCompleted() {\n  items = items.filter(item => !item.completed);\n}\n\nfunction handleFilterChange(newFilter) {\n  filter = newFilter;\n}\n\nfunction handleItemAdd(newTodoName) {\n  const id = crypto.randomUUID();\n  items.push({ id, name: newTodoName, completed: false });\n}\n\nfunction handleItemCompletionChange(itemId, newItemCompleted) {\n  const item = items.find((item) => item.id === itemId);\n  if (item) {\n    item.completed = newItemCompleted;\n  }\n}\n\nfunction handleItemRemove(itemId) {\n  items = items.filter(item => item.id !== itemId);\n}\n\nfunction handleItemRename(itemId, newTodoName) {\n  const item = items.find((item) => item.id === itemId);\n  if (item) {\n    item.name = newTodoName;\n  }\n}\n\nfunction handleToggleAll(newAllCompleted) {\n  for (const item of items) {\n    item.completed = newAllCompleted;\n  }\n}\n\nfunction storeTodoItems(todoItems) {\n  localStorage.setItem("todo-app-items-svelte", JSON.stringify(todoItems));\n}\n\nfunction loadTodoItems() {\n  try {\n    const itemDataString = localStorage.getItem("todo-app-items-svelte");\n    return itemDataString ? JSON.parse(itemDataString) : [];\n  } catch (e) {\n    console.error(\n      "Could not load items from local storage -- corrupted data?",\n      e,\n    );\n    return [];\n  }\n}\n\n// ===================\n// file: TodoHeader.js\n// ===================\nlet { onNewTodo } = $props();\nlet newName = $state("");\n\nfunction onKeydownNewInput(event) {\n  if (event.key === "Enter" && newName.length > 0) {\n    onNewTodo(newName);\n    newName = "";\n  }\n}\n\n// =================\n// file: TodoMain.js\n// =================\nimport TodoToggleAll from "@sandbox/TodoToggleAll.js";\nimport TodoList from "@sandbox/TodoList.js";\n\nlet { items, filter, onItemCompletionChange, onItemRename, onItemRemove, onToggleAll } = $props();\n\nconst allCompleted = $derived(items.every((item) => item.completed));\n\n// ======================\n// file: TodoToggleAll.js\n// ======================\n\nlet { allCompleted, onToggleAll } = $props();\n\nfunction onChangeToggleAll(event) {\n  onToggleAll(event.target.checked);\n}\n\n// =================\n// file: TodoList.js\n// =================\nimport TodoItem from "@sandbox/TodoItem.js";\n\nlet { items, filter, onItemCompletionChange, onItemRename, onItemRemove } = $props();\n\nconst filteredItems = $derived(items.filter(item => {\n  switch (filter) {\n    case "all": return true;\n    case "active": return !item.completed;\n    case "completed": return item.completed;\n  }\n}));\n\n// =================\n// file: TodoItem.js\n// =================\nlet { editing, item, onItemCompletionChange, onItemRename, onItemRemove } = $props();\n\nlet newName = $state();\n\nfunction init(element) {\n  element.focus();\n}\n\nfunction onChangeItemCompleted(event) {\n  onItemCompletionChange(item.id, event.target.checked);\n}\n\nfunction onClickItemRemove() {\n  onItemRemove(item.id);\n}\n\nfunction onDblclickTodo() {\n  editing = true;\n  newName = item.name;\n}\n\nfunction onKeydownNewName(event) {\n  if (event.key === "Escape") {\n    editing = false;\n    return;\n  }\n  if (event.key === "Enter" && newName) {\n    editing = false;\n    onItemRename(item.id, newName);\n  }\n}\n\n// ===================\n// file: TodoFooter.js\n// ===================\n\nlet { activeCount, filter, onClearCompleted, onFilterChange } = $props();\n\nfunction onClickClearCompleted() {\n  onClearCompleted();\n}\n\nfunction onPointerdownFilterAll() {\n  onFilterChange("all");\n}\n\nfunction onPointerdownFilterActive() {\n  onFilterChange("active");\n}\n\nfunction onPointerdownFilterCompleted() {\n  onFilterChange("completed");\n}\n\n// ===================\n// file: PageFooter.js\n// ===================\n\n// nothing yet\n\n// ============\n// file: App.js\n// ============\nimport TodoApp from "@sandbox/TodoApp.js";\nimport PageFooter from "@sandbox/PageFooter.js";\n'}}]);