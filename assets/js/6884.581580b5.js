"use strict";(self.webpackChunkpackages_lecture=self.webpackChunkpackages_lecture||[]).push([[6884],{66884:(e,n,t)=>{t.r(n),t.d(n,{default:()=>o});const o='/**\n * Returns a promise that resolves with the current location of the user;\n * and rejects when the position cannot be determined or the user denies\n * access to their location.\n * @returns {Promise<GeolocationPosition>} The position of the user.\n */\nfunction geoLocate() {\n  return new Promise((resolve, reject) => {\n    navigator.geolocation.getCurrentPosition(\n      (g) => resolve(g),\n      (e) => reject(new Error(`${e.code}: ${e.message}`)),\n    );\n  });\n}\n\nasync function onGeoLocate() {\n  try {\n    const position = await geoLocate();\n    document.querySelector(".latitude").value = position.coords.latitude;\n    document.querySelector(".longitude").value = position.coords.longitude;\n    showOnMap(position.coords.latitude, position.coords.longitude);\n  } catch (e) {\n    document.querySelector(".error").textContent =\n      `Konnte dich nicht finden :(\\n${e}`;\n  }\n}\n\nfunction showOnMap(latitude, longitude) {\n  const map = L.map("map").setView([latitude, longitude], 13);\n  L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {\n    attribution:\n      \'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors\',\n  }).addTo(map);\n  L.marker([latitude, longitude]).addTo(map)\n    .bindPopup(\'Habe ich dich gefunden :)\')\n    .openPopup();\n}\n\ndocument.querySelector(".find-me").addEventListener("click", onGeoLocate);\n'}}]);