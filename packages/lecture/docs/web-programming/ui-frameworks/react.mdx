---
id: framework-react
slug: /framework/react
sidebar_position: 3
description: Reaktive Programmierung mit React und Vue
---

import HtmlSnippet from "@site/src/components/HtmlSnippet";
import Link from "@docusaurus/Link";

# Abschnitt 3 - Komponenten, Typisierung, Reaktivität (React, Vue)

In diesem Abschnitt wollen wir uns [React](https://react.dev/) anschauen.
React ist aktuell ein weit verbreitete UI-Bibliothek, siehe etwa die im
Abschnitt 1 erwähnten Statistiken wie [State of JavaScript - The annual developer survey of the JavaScript ecosystem](https://stateofjs.com/).

[Vue](https://vuejs.org/) ist in seiner Herangehensweise und Architektur React
sehr ähnlich. Daher sei es an dieser Stelle nur erwähnt, wir werden uns in diesem
Abschnitt auf React beschränken. 

:::info
Diese Webseite, auf der du gerade bist, verwendet React!
:::

## Probleme Knockout

Im Vergleich zur direkten Arbeit mit dem DOM, hat Knockout schon einige wichtige
Verbesserungen gebracht.

Doch besinnen wir uns noch einmal auf die Arbeit mit Knockout &mdash;. Was war
daran vielleicht weniger optimal und wo besteht Potential für Verbesserungen?

Ein Punkt ist die Typensicherheit. Wer hat mit Knockout gearbeitet und nicht
in den `data-bind`-Attributen einen Schreibfehler gehabt? Das Problem an den
HTML-Templates, die Knockout verwendet, besteht darin, dass das Data-Binding
nur als String geschrieben und erst zur Laufzeit von Knockout interpretiert wird.

So ist es schwer bis gar nicht für Tools möglich, vor der Ausführung beim Build-Prozess
zu prüfen, ob in HTML-Templates nicht vermeidbare Fehler enthalten sind. Wir hatten
bisher nur eine einfache TODO-App, die dank der Sandbox auch schnell testbar war.

In der Praxis mit größeren Webapps kann der Prozess vom Schreiben des Codes
bis zur Ausführung wesentlich länger sein. Weiterhin ist es in großen Webapps
schwer möglich, bei jeder Änderung die gesamte Webapp zu testen. Es kommt nun
aber vor, dass eine Änderung an einem Teil der Webapp Fehler an anderen Teilen
mit sich bringen kann, die wir als Programmierer nicht vorhergesehen haben.
[Auch wenn wir natürlich unseren Code immer gut mit Unit-Tests ausgestattet haben](https://programmerhumor.io/programming-memes/developers-love-hate-relationship-with-unit-tests/),
es ist gut, mehrere Checks zu haben, welche die Qualität des Code verbessern.

React bietet hier eine Lösung. Zudem gestaltet es React auch einfacher,
kleine, gekappselte, wiederverwendbare Komponenten zu schreiben, wie wir in diesem
Abschnitt sehen werden. 

## Grundkonzept von React

:::warning
Um in der Sandbox mit React zu arbeiten, muss ganz am Anfang des Codes
`babel "jsx";` stehen.
:::

### Komponenten

In React ist alles eine sogenannte Komponente. Eine Komponente ist ein eigenständiger
Bestandteile einer Webseite, zum Beispiel Button, Datumswähler,
Navigationsleiste oder Footer-Leiste. Manchmal besteht eine Komponente nur aus
1 HTML-Element, manchmal aus mehreren.

Jede Komponente in React ist eine JavaScript-Funktion, welche basierend auf den
Daten das entsprechende HTML zurückgibt.

<HtmlSnippet path="react-component" toggleable type="js" />

Wir erkennen an diesem Beispiel einige Merkmale von React.

Zum einen steht im HTML so gut wie kein Inhalt, sondern lediglich ein `<div>`
React generiert das HTML komplett per JavaScript und schreibt dieses in das `<div>`.
Dieses Vorgehen nennt man clientseitiges Rendering, der Server liefert also kein
HTML mehr aus, sondern nur noch JavaScript und CSS.

Im JavaScript selber sehen wir die einzelnen Funktionen für die verschiedenen
Komponenten &mdash; Header, Navigation, QuickInfo, MainContent und Footer. Innerhalb
dieser Funktionen steht das entsprechende HTML für die jeweilige Komponente.

:::info
HTML direkt im JavaScript zu schreiben ist kein Bestandteil der Sprache JavaScript.
Es handelt sich hierbei um eine Erweiterung von JavaScript, die [JSX](https://react.dev/learn/writing-markup-with-jsx)
(JavaScript XML) heißt.

JavaScript-Dateien, die JSX verwenden, können nicht
direkt vom Browser ausgeführt werden, sondern müssen erst in normales JavaScript
umgewandelt werden ([Transpilation](https://en.wikipedia.org/wiki/Source-to-source_compiler)).

JSX wurde ursprünglich für React entwickelt. Inzwischen hat es sich aber als praktische
Erweiterung herausgestellt und wird auch von [anderen UI-Bibliotheken](https://vuejs.org/guide/extras/render-function#jsx-tsx)
verwendet. Es gibt sogar Versuche, JSX außerhalb der UI-Entwicklung als generische
[DSL](https://en.wikipedia.org/wiki/Domain-specific_language) für Baumstrukturen zu verwenden ([Beispiel](https://github.com/achrafl0/jsqx)).
:::

Die Grundidee von React steckt im Namen -- reaktiv. In dieser Hinsicht ist React
analog zu Knockout.js. Die UI reagiert auf Änderungen im Datenmodell und passt
sich automatisch entsprechend an.

<HtmlSnippet path="react-reactive" type="js" />

## Ergebnisse

<p>
  <Link to="/sandbox?snippet=todo-app-react&tab=js" target="_blank" rel="noopener noreferrer">Playground &mdash; TODO-App (React)</Link>
</p>


komponenten
type safety
vdom

clientseitiges rendering, probleme, seo, vorteile